@page "/knowledge/{article}"
@using Sunduk.PWA.Components.Knowledge;


<MudContainer MaxWidth=MaxWidth.False Class="mt-2">
    <MudAlert Class="rounded-0" Severity="Severity.Warning" Icon="fas fa-crutch">Раздел в разработке</MudAlert>
    <MudGrid Spacing=1>
        <MudItem xs=12 sm=5 lg=4 >
            <MudField Variant="Variant.Filled" DisableUnderLine="true" Label="Содержание" InnerPadding="false">
                <MudList Dense=true Clickable="true" @bind-SelectedItem="selectedItem" @bind-SelectedValue="Article">
                    <MudListItem Dense=true DisableGutters=true Icon="@Icons.Material.Filled.Info" Value="@("about")" Href="/knowledge/about">
                        <MudText Class="mx-n4" Typo=Typo.body2>О разделе</MudText>
                    </MudListItem>
                    <MudListItem Dense=true Icon="@Icons.Material.Filled.Folder">
                        <ChildContent>
                             <MudText Class="mx-n4" Typo=Typo.body2>Программирование Fanuc</MudText>
                        </ChildContent>
                        <NestedList>
                            <MudListItem Dense=true Icon="@Icons.Material.Filled.Info" Value="@("general-programming")" Href="/knowledge/general-programming">
                                <MudText Class="mx-n4" Typo=Typo.body2>Общая информация</MudText>
                            </MudListItem>
                            <MudListItem Dense=true Icon="@Icons.Material.Filled.Info" Value="@("programming-g00")" Href="/knowledge/programming-g00">
                                <MudText Class="mx-n4" Typo=Typo.body2>G00</MudText>
                            </MudListItem>
                            <MudListItem Dense=true Icon="@Icons.Material.Filled.Info" Value="@("programming-g01")" Href="/knowledge/programming-g01">
                                <MudText Class="mx-n4" Typo=Typo.body2>G01</MudText>
                            </MudListItem>
                        </NestedList>
                    </MudListItem>
                </MudList>
            </MudField>
        </MudItem>
        <MudItem xs=12 sm=7 lg=8>
            <MudField Variant="Variant.Filled" DisableUnderLine="true" Label="Информация">
                @switch (Article?.ToString())
            {
                case "about": <AboutKnowledgeComponent/> break;
                case "general-programming": <GeneralPrograming/> break;
                case "programming-g00": <ProgrammingG00/> break;
                case "programming-g01": <ProgrammingG01/> break;
            }
            </MudField>
        </MudItem>
    </MudGrid>
</MudContainer>


@code 
{
    [Parameter]
    public object Article { get; set; } = "about";
    MudListItem selectedItem;
}
